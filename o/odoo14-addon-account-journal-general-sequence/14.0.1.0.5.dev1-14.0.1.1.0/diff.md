# Comparing `tmp/odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1-py3-none-any.whl.zip` & `tmp/odoo14_addon_account_journal_general_sequence-14.0.1.1.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,32 @@
-Zip file size: 56633 bytes, number of entries: 30
--rw-r--r--  2.0 unx     4963 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/README.rst
--rw-r--r--  2.0 unx       43 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/__init__.py
--rw-r--r--  2.0 unx      753 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/__manifest__.py
--rw-r--r--  2.0 unx     8146 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/i18n/account_journal_general_sequence.pot
--rw-r--r--  2.0 unx     9293 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/i18n/es.po
--rw-r--r--  2.0 unx     8290 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/i18n/hr.po
--rw-r--r--  2.0 unx       89 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/models/__init__.py
--rw-r--r--  2.0 unx     1295 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/models/account_journal.py
--rw-r--r--  2.0 unx     2248 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/models/account_move.py
--rw-r--r--  2.0 unx      265 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/models/account_move_line.py
--rw-r--r--  2.0 unx      513 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      111 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      276 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      299 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/readme/INSTALL.rst
--rw-r--r--  2.0 unx      725 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/readme/USAGE.rst
--rw-r--r--  2.0 unx      222 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/security/ir.model.access.csv
--rw-r--r--  2.0 unx    28942 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/static/description/icon.png
--rw-r--r--  2.0 unx    15045 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/static/description/index.html
--rw-r--r--  2.0 unx       29 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/tests/__init__.py
--rw-r--r--  2.0 unx     3567 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/tests/test_numbering.py
--rw-r--r--  2.0 unx     1111 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/views/account_journal.xml
--rw-r--r--  2.0 unx     1573 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/views/account_move.xml
--rw-r--r--  2.0 unx     1950 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/views/account_move_line.xml
--rw-r--r--  2.0 unx       43 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/wizards/__init__.py
--rw-r--r--  2.0 unx     3088 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard.py
--rw-r--r--  2.0 unx     1867 b- defN 23-Jun-24 02:37 odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard_views.xml
--rw-r--r--  2.0 unx     5570 b- defN 23-Jun-24 02:38 odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-24 02:38 odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jun-24 02:38 odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3717 b- defN 23-Jun-24 02:38 odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/RECORD
-30 files, 104130 bytes uncompressed, 50171 bytes compressed:  51.8%
+Zip file size: 56759 bytes, number of entries: 30
+-rw-r--r--  2.0 unx     4963 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/README.rst
+-rw-r--r--  2.0 unx       43 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/__init__.py
+-rw-r--r--  2.0 unx      753 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/__manifest__.py
+-rw-r--r--  2.0 unx     8146 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/i18n/account_journal_general_sequence.pot
+-rw-r--r--  2.0 unx     9293 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/i18n/es.po
+-rw-r--r--  2.0 unx     8290 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/i18n/hr.po
+-rw-r--r--  2.0 unx       89 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/models/__init__.py
+-rw-r--r--  2.0 unx     1295 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/models/account_journal.py
+-rw-r--r--  2.0 unx     2634 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/models/account_move.py
+-rw-r--r--  2.0 unx      265 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/models/account_move_line.py
+-rw-r--r--  2.0 unx      513 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      111 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      276 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      299 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/readme/INSTALL.rst
+-rw-r--r--  2.0 unx      725 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/readme/USAGE.rst
+-rw-r--r--  2.0 unx      222 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/security/ir.model.access.csv
+-rw-r--r--  2.0 unx    28942 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/static/description/icon.png
+-rw-r--r--  2.0 unx    15045 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/static/description/index.html
+-rw-r--r--  2.0 unx       29 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/tests/__init__.py
+-rw-r--r--  2.0 unx     3750 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/tests/test_numbering.py
+-rw-r--r--  2.0 unx     1111 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/views/account_journal.xml
+-rw-r--r--  2.0 unx     1573 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/views/account_move.xml
+-rw-r--r--  2.0 unx     1950 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/views/account_move_line.xml
+-rw-r--r--  2.0 unx       43 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/wizards/__init__.py
+-rw-r--r--  2.0 unx     3088 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard.py
+-rw-r--r--  2.0 unx     1867 b- defN 23-Jun-26 12:55 odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard_views.xml
+-rw-r--r--  2.0 unx     5565 b- defN 23-Jun-26 12:55 odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-26 12:55 odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-26 12:55 odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3697 b- defN 23-Jun-26 12:55 odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/RECORD
+30 files, 104674 bytes uncompressed, 50337 bytes compressed:  51.9%
```

## zipnote {}

```diff
@@ -72,20 +72,20 @@
 
 Filename: odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard.py
 Comment: 
 
 Filename: odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard_views.xml
 Comment: 
 
-Filename: odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/METADATA
+Filename: odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/WHEEL
+Filename: odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/top_level.txt
+Filename: odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/RECORD
+Filename: odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/account_journal_general_sequence/__manifest__.py

```diff
@@ -1,13 +1,13 @@
 # Copyright 2022 Moduon Team S.L.
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).
 {
     "name": "General sequence in account journals",
     "summary": "Add configurable sequence to account moves, per journal",
-    "version": "14.0.1.0.4",
+    "version": "14.0.1.1.0",
     "category": "Accounting/Accounting",
     "website": "https://github.com/OCA/account-financial-tools",
     "author": "Moduon, Odoo Community Association (OCA)",
     "license": "LGPL-3",
     "maintainers": ["yajo"],
     "depends": [
         "account",
```

## odoo/addons/account_journal_general_sequence/models/account_move.py

```diff
@@ -19,15 +19,14 @@
             "Entry number must be unique per journal.",
         ),
     ]
 
     entry_number = fields.Char(
         index=True,
         readonly=True,
-        tracking=True,
         store=True,
         compute="_compute_entry_number",
         help="Automatic numbering, based on journal configuration.",
     )
 
     @api.depends("state")
     def _compute_entry_number(self):
@@ -55,13 +54,20 @@
                     "This created gaps on %r.",
                     canceled,
                     no_gap_seqs,
                 )
         chosen = self.filtered_domain(
             [("state", "=", "posted"), ("entry_number", "=", False)]
         )
+        # Cache all the new numbers to avoid wasting recomputations, caused by
+        # searches done by _next() in the loop below
+        chosen_map = {}
         for move in chosen.sorted(lambda one: (one.date, one.name, one.id)):
-            move.entry_number = move.journal_id.entry_number_sequence_id._next(
+            chosen_map[move.id] = move.journal_id.entry_number_sequence_id._next(
                 move.date
             )
+        # Write all the new numbers in the chosen moves
+        for move_id, new_number in chosen_map.items():
+            self.browse(move_id).entry_number = new_number
         if chosen:
-            _logger.info("Added entry_number to %r", chosen)
+            _logger.info("Added entry_number to %d account moves", len(chosen))
+            _logger.debug("Added entry_number to %r", chosen)
```

## odoo/addons/account_journal_general_sequence/tests/test_numbering.py

```diff
@@ -38,20 +38,23 @@
 
     @users("test_manager")
     def test_renumber(self):
         # Post invoices in wrong order
         next_year_invoice = self._create_invoice(
             date_invoice="2023-12-31", auto_validate=True
         )
+        next_year_invoice.flush(["entry_number"], next_year_invoice)
         new_invoice = self._create_invoice(
             date_invoice="2022-05-10", auto_validate=True
         )
+        new_invoice.flush(["entry_number"], new_invoice)
         old_invoice = self._create_invoice(
             date_invoice="2022-04-30", auto_validate=True
         )
+        old_invoice.flush(["entry_number"], old_invoice)
         self.assertLess(new_invoice.entry_number, old_invoice.entry_number)
         # Fix entry number order with wizard; default values are OK
         wiz_f = Form(self.env["account.move.renumber.wizard"])
         self.assertEqual(len(wiz_f.available_sequence_ids), 1)
         wiz = wiz_f.save()
         wiz.action_renumber()
         self.assertGreater(new_invoice.entry_number, old_invoice.entry_number)
```

## Comparing `odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/METADATA` & `odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-account-journal-general-sequence
-Version: 14.0.1.0.5.dev1
+Version: 14.0.1.1.0
 Summary: Add configurable sequence to account moves, per journal
 Home-page: https://github.com/OCA/account-financial-tools
 Author: Moduon, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/RECORD` & `odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,30 +1,30 @@
 odoo/addons/account_journal_general_sequence/README.rst,sha256=ITFQVxUW7i9-gG44SJ_YizPKQHaZmln3yHht5Y9K910,4963
 odoo/addons/account_journal_general_sequence/__init__.py,sha256=0XNpxETgFdVxFDEw03O8oL3NtTSk3we-HEZW2sPKzIU,43
-odoo/addons/account_journal_general_sequence/__manifest__.py,sha256=qG2jgfPRkroDD6h_wH4iLz9uvBXQ0XooW6XNKG_6nuU,753
+odoo/addons/account_journal_general_sequence/__manifest__.py,sha256=TiTOWDSZmP0wXwAdWYfPs1E7_Ju1LI8i1Goxez4XcjM,753
 odoo/addons/account_journal_general_sequence/i18n/account_journal_general_sequence.pot,sha256=PJ50WuPQTgpiGVq9n8zEOl42VR30pQBAuTOupLNbAAQ,8146
 odoo/addons/account_journal_general_sequence/i18n/es.po,sha256=AB9VBpTgp4PGIgJm3QRYlnIg7ceZiZrg6sUDqd4KrEY,9293
 odoo/addons/account_journal_general_sequence/i18n/hr.po,sha256=77mLHPbMjpuc_j_cNivEJqkv-c1n2aTSu2pDSE5m5h4,8290
 odoo/addons/account_journal_general_sequence/models/__init__.py,sha256=K4CKZsO_M-fxJ66fRHdy6Imdi_vJRyWjBhbKy7gDUwI,89
 odoo/addons/account_journal_general_sequence/models/account_journal.py,sha256=VT3EBPt17MzlyqMKYQ1vrrPCC0ajTgjlzKDbMuS1bP0,1295
-odoo/addons/account_journal_general_sequence/models/account_move.py,sha256=HYaMuK6oG0m6-07RSr-40NNw_T6EpkmqHslli8M0Y6M,2248
+odoo/addons/account_journal_general_sequence/models/account_move.py,sha256=ApWnromn2e-GancsDyDIt3JBhPYPuwqmE7oLYfieenc,2634
 odoo/addons/account_journal_general_sequence/models/account_move_line.py,sha256=nIdZVmfCMt0ye6a-yke2M-w9yfc3X8YUWr6pup4S5z4,265
 odoo/addons/account_journal_general_sequence/readme/CONFIGURE.rst,sha256=-IrNwGC91fejJjLk-bDuze_QDHDYaITodDAV6YA3ljM,513
 odoo/addons/account_journal_general_sequence/readme/CONTRIBUTORS.rst,sha256=kxoFqFJRAVWhpjRBULYqrMtmjzMuUTLgjgLJUN-dLxI,111
 odoo/addons/account_journal_general_sequence/readme/DESCRIPTION.rst,sha256=smDWoVXI_DZ8Atmml5S7vFMbpdABayCgE2je3YNbZsc,276
 odoo/addons/account_journal_general_sequence/readme/INSTALL.rst,sha256=0m2hFy7m2uvSrpc8pVUpd8W3IaCfWtTiBu1VY85PXXI,299
 odoo/addons/account_journal_general_sequence/readme/USAGE.rst,sha256=Cz9eUoOGvOdhiNb7ACcSwOqvAeyXDxtAAHcZEDaGZhE,725
 odoo/addons/account_journal_general_sequence/security/ir.model.access.csv,sha256=ncp_TUiQeYKcki_98FLBBDByD62Xcd5nz-8qmMdUsxU,222
 odoo/addons/account_journal_general_sequence/static/description/icon.png,sha256=dcjloBxfHaycFtsZBfehAegSPGdHicdK_tT94zC4E6Q,28942
 odoo/addons/account_journal_general_sequence/static/description/index.html,sha256=js8sM2wgfz46ztqLJQ1SgpDS_Bop-_c_7K5BZ82Y3_0,15045
 odoo/addons/account_journal_general_sequence/tests/__init__.py,sha256=mEEpt-FDvEib57w_8ESWNXtjvCTSwYBIkWPuPAtXsG4,29
-odoo/addons/account_journal_general_sequence/tests/test_numbering.py,sha256=PqUftysp8CAhhd1mXLZDX4jM-VTFXhFqEwPwi9-AK-4,3567
+odoo/addons/account_journal_general_sequence/tests/test_numbering.py,sha256=4iEHunVy7tuvsvxkskeRHdDtVasO1AzDA_Fbp3jqjPw,3750
 odoo/addons/account_journal_general_sequence/views/account_journal.xml,sha256=SUWZ6k_1U3bYLW0tmHueFySVtMipav-VCxeUC1HSbw8,1111
 odoo/addons/account_journal_general_sequence/views/account_move.xml,sha256=kilkesTNTxHa7ojv1IYidhHn5mFlcMQaw1iNPKY6dTM,1573
 odoo/addons/account_journal_general_sequence/views/account_move_line.xml,sha256=pq0f0zZaXxC5ArTbar4PJExNQcVEeA35xCV2ODyrtpE,1950
 odoo/addons/account_journal_general_sequence/wizards/__init__.py,sha256=LTx_UVX7mPQzvBJGWOMyESOrZGmh-zQEytueXplWi1Y,43
 odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard.py,sha256=qDoWFE4JY7e7Xry9aoybg62UTgKtS9dXMRji7wBQ8RA,3088
 odoo/addons/account_journal_general_sequence/wizards/account_move_renumber_wizard_views.xml,sha256=ePNunK80FvELl_FXtnT-uoaVgmpKtmzm0jATljUYVYQ,1867
-odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/METADATA,sha256=tjQItsp6YSUbbB0aPPz1h5XdgYu0n-FhiqnI6fIBgFU,5570
-odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_account_journal_general_sequence-14.0.1.0.5.dev1.dist-info/RECORD,,
+odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/METADATA,sha256=oLYjskOFaGRQDT4u1_zu35B-gNPF3Ld5q0mhHuorkmE,5565
+odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_account_journal_general_sequence-14.0.1.1.0.dist-info/RECORD,,
```

