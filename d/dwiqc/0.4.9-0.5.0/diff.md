# Comparing `tmp/dwiqc-0.4.9-py2.py3-none-any.whl.zip` & `tmp/dwiqc-0.5.0-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,24 +1,24 @@
-Zip file size: 24515 bytes, number of entries: 22
--rw-r--r--  2.0 unx      225 b- defN 23-Jun-08 18:05 dwiqc/__init__.py
--rw-r--r--  2.0 unx      247 b- defN 23-Jun-21 14:55 dwiqc/__version__.py
--rw-r--r--  2.0 unx     1352 b- defN 23-Jun-08 18:05 dwiqc/browser/__init__.py
--rw-r--r--  2.0 unx       61 b- defN 23-Jun-12 14:27 dwiqc/cli/__init__.py
--rw-r--r--  2.0 unx     6651 b- defN 23-Jun-08 18:05 dwiqc/cli/get.py
--rw-r--r--  2.0 unx     6025 b- defN 23-Jun-21 14:48 dwiqc/cli/process.py
--rw-r--r--  2.0 unx     3801 b- defN 23-Jun-12 20:46 dwiqc/cli/tandem.py
--rw-r--r--  2.0 unx      160 b- defN 23-Jun-08 18:05 dwiqc/config/__init__.py
--rw-r--r--  2.0 unx      274 b- defN 23-Jun-08 18:05 dwiqc/config/dwiqc.yaml
--rw-r--r--  2.0 unx       98 b- defN 23-Jun-08 18:05 dwiqc/state/__init__.py
--rw-r--r--  2.0 unx     1892 b- defN 23-Jun-08 18:05 dwiqc/tasks/__init__.py
--rw-r--r--  2.0 unx    10118 b- defN 23-Jun-21 14:54 dwiqc/tasks/prequal.py
--rw-r--r--  2.0 unx     4656 b- defN 23-Jun-21 11:45 dwiqc/tasks/prequal_EQ.py
--rw-r--r--  2.0 unx     6146 b- defN 23-Jun-08 18:05 dwiqc/tasks/qsiprep.py
--rw-r--r--  2.0 unx     3872 b- defN 23-Jun-08 18:05 dwiqc/tasks/qsiprep_EQ.py
--rw-r--r--  2.0 unx    13083 b- defN 23-Jun-08 18:05 dwiqc/xnat/__init__.py
--rwxr-xr-x  2.0 unx     5783 b- defN 23-Jun-21 14:56 dwiqc-0.4.9.data/scripts/dwiQC.py
--rw-r--r--  2.0 unx     1541 b- defN 23-Jun-21 14:56 dwiqc-0.4.9.dist-info/LICENSE
--rw-r--r--  2.0 unx      428 b- defN 23-Jun-21 14:56 dwiqc-0.4.9.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 23-Jun-21 14:56 dwiqc-0.4.9.dist-info/WHEEL
--rw-r--r--  2.0 unx        6 b- defN 23-Jun-21 14:56 dwiqc-0.4.9.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1718 b- defN 23-Jun-21 14:56 dwiqc-0.4.9.dist-info/RECORD
-22 files, 68247 bytes uncompressed, 21763 bytes compressed:  68.1%
+Zip file size: 24749 bytes, number of entries: 22
+-rw-r--r--  2.0 unx      225 b- defN 23-Jun-23 17:52 dwiqc/__init__.py
+-rw-r--r--  2.0 unx      247 b- defN 23-Jun-26 11:30 dwiqc/__version__.py
+-rw-r--r--  2.0 unx     1352 b- defN 23-Jun-23 17:52 dwiqc/browser/__init__.py
+-rw-r--r--  2.0 unx       61 b- defN 23-Jun-23 17:52 dwiqc/cli/__init__.py
+-rw-r--r--  2.0 unx     6941 b- defN 23-Jun-26 11:29 dwiqc/cli/get.py
+-rw-r--r--  2.0 unx     6025 b- defN 23-Jun-23 17:52 dwiqc/cli/process.py
+-rw-r--r--  2.0 unx     4180 b- defN 23-Jun-26 11:29 dwiqc/cli/tandem.py
+-rw-r--r--  2.0 unx      160 b- defN 23-Jun-23 17:52 dwiqc/config/__init__.py
+-rw-r--r--  2.0 unx      274 b- defN 23-Jun-23 17:52 dwiqc/config/dwiqc.yaml
+-rw-r--r--  2.0 unx       98 b- defN 23-Jun-23 17:52 dwiqc/state/__init__.py
+-rw-r--r--  2.0 unx     1892 b- defN 23-Jun-23 17:52 dwiqc/tasks/__init__.py
+-rw-r--r--  2.0 unx    10118 b- defN 23-Jun-23 17:52 dwiqc/tasks/prequal.py
+-rw-r--r--  2.0 unx     4656 b- defN 23-Jun-23 17:52 dwiqc/tasks/prequal_EQ.py
+-rw-r--r--  2.0 unx     6146 b- defN 23-Jun-23 17:52 dwiqc/tasks/qsiprep.py
+-rw-r--r--  2.0 unx     3872 b- defN 23-Jun-23 17:52 dwiqc/tasks/qsiprep_EQ.py
+-rw-r--r--  2.0 unx    13136 b- defN 23-Jun-23 17:52 dwiqc/xnat/__init__.py
+-rwxr-xr-x  2.0 unx     5783 b- defN 23-Jun-26 11:31 dwiqc-0.5.0.data/scripts/dwiQC.py
+-rw-r--r--  2.0 unx     1541 b- defN 23-Jun-26 11:31 dwiqc-0.5.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx      482 b- defN 23-Jun-26 11:31 dwiqc-0.5.0.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-Jun-26 11:31 dwiqc-0.5.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        6 b- defN 23-Jun-26 11:31 dwiqc-0.5.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1718 b- defN 23-Jun-26 11:31 dwiqc-0.5.0.dist-info/RECORD
+22 files, 69023 bytes uncompressed, 21997 bytes compressed:  68.1%
```

## zipnote {}

```diff
@@ -42,26 +42,26 @@
 
 Filename: dwiqc/tasks/qsiprep_EQ.py
 Comment: 
 
 Filename: dwiqc/xnat/__init__.py
 Comment: 
 
-Filename: dwiqc-0.4.9.data/scripts/dwiQC.py
+Filename: dwiqc-0.5.0.data/scripts/dwiQC.py
 Comment: 
 
-Filename: dwiqc-0.4.9.dist-info/LICENSE
+Filename: dwiqc-0.5.0.dist-info/LICENSE
 Comment: 
 
-Filename: dwiqc-0.4.9.dist-info/METADATA
+Filename: dwiqc-0.5.0.dist-info/METADATA
 Comment: 
 
-Filename: dwiqc-0.4.9.dist-info/WHEEL
+Filename: dwiqc-0.5.0.dist-info/WHEEL
 Comment: 
 
-Filename: dwiqc-0.4.9.dist-info/top_level.txt
+Filename: dwiqc-0.5.0.dist-info/top_level.txt
 Comment: 
 
-Filename: dwiqc-0.4.9.dist-info/RECORD
+Filename: dwiqc-0.5.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## dwiqc/__version__.py

```diff
@@ -1,6 +1,6 @@
 __title__ = 'dwiqc'
 __description__ = 'Quality Assurance Pipeline for Diffusion MR Data'
 __url__ = 'https://github.com/harvard-nrg/dwiqc'
-__version__ = '0.4.9'
+__version__ = '0.5.0'
 __author__ = 'Neuroinformatics Research Group'
 __author_email__ = 'info@neuroinfo.org'
```

## dwiqc/cli/get.py

```diff
@@ -6,27 +6,41 @@
 import yaxil
 import logging
 import argparse as ap
 import subprocess as sp
 import collections as col
 from xnattagger import Tagger
 from bids import BIDSLayout
+import xnattagger.config as config 
+
+tagger_conf = config.default()
 
 
 #### Need to add support for downloading the T1w data as well. Primarily for qsiprep.
 
 logger = logging.getLogger(__name__)
 
 def do(args):
     if args.insecure:
         logger.warning('disabling ssl certificate verification')
         yaxil.CHECK_CERTIFICATE = False
 
 
-    # ******* potential idea here-- call and run tagger on the diffusion data ******
+    # call and run xnattagger on the diffusion data
+
+    logger.info("running xnattagger...")
+
+    with open(tagger_conf) as fo:
+        filters = yaml.load(fo, Loader=yaml.SafeLoader)
+
+    tagger = Tagger(args.xnat_alias, filters, 'dwi', args.label)
+    tagger.generate_updates()
+    tagger.apply_updates()
+
+    logger.info('downloading data from xnat...')
 
 
     # load authentication data and set environment variables for ArcGet.py
     auth = yaxil.auth2(
         args.xnat_alias,
         args.xnat_host,
         args.xnat_user,
@@ -34,16 +48,14 @@
     )
     os.environ['XNAT_HOST'] = auth.url
     os.environ['XNAT_USER'] = auth.username
     os.environ['XNAT_PASS'] = auth.password
 
     conf = yaml.safe_load(open(args.config)) # load 
 
-    # config file under anatqc/config/anatqc.yaml
-
     # query T1w and vNav scans from XNAT
     with yaxil.session(auth) as ses:
         scans = col.defaultdict(dict)
         for scan in ses.scans(label=args.label, project=args.project):
             note = scan['note']
             dwi_match = match(note, conf['dwiqc']['dwi']['tags'])
             pa_match = match(note, conf['dwiqc']['dwi_PA']['tags'])
```

## dwiqc/cli/tandem.py

```diff
@@ -10,26 +10,41 @@
 import collections as col
 from xnattagger import Tagger
 from bids import BIDSLayout
 import dwiqc.cli.get as get
 import dwiqc.cli.process as process
 import collections as col
 import yaxil.bids
+from xnattagger import Tagger
+import xnattagger.config as config 
 
 
 logger = logging.getLogger(__name__)
 
 def do(args):
     if args.insecure:
         logger.warning('disabling ssl certificate verification')
         yaxil.CHECK_CERTIFICATE = False
 
 
-    # ******* potential idea here-- call and run tagger on the diffusion data ******
+    
+    tagger_conf = config.default()
+
+    # call and run xnattagger on the diffusion data
+
+    logger.info("running xnattagger...")
+
+    with open(tagger_conf) as fo:
+        filters = yaml.load(fo, Loader=yaml.SafeLoader)
+
+    tagger = Tagger(args.xnat_alias, filters, 'dwi', args.label)
+    tagger.generate_updates()
+    tagger.apply_updates()
 
+    logger.info('downloading data from xnat...')
 
     # load authentication data and set environment variables for ArcGet.py
     auth = yaxil.auth2(
         args.xnat_alias,
         args.xnat_host,
         args.xnat_user,
         args.xnat_pass
```

## dwiqc/xnat/__init__.py

```diff
@@ -98,21 +98,23 @@
         # add date and time
         etree.SubElement(root, xnatns + 'date').text = prov['start_date']
         etree.SubElement(root, xnatns + 'time').text = prov['start_time']
 
         if not self.sub.startswith('sub-'):
             self.sub = 'sub-' + self.sub
 
+        no_prefix_sub = f"{self.sub[4:]}"
+
         # compile a list of files to be added to xnat:out section
 	
         # pull images from eddy_quad output
 
         resources = [
             {
-                'source': os.path.join(self.dirs['prequal'], 'OUTPUTS', 'EDDY', f'{self._sub}_{self._ses}', 'qc.pdf'),
+                'source': os.path.join(self.dirs['prequal'], 'OUTPUTS', 'EDDY', f'{no_prefix_sub}_{self.ses}.qc', 'qc.pdf'),
                 'dest': os.path.join('eddy_pdf', '{0}_eddy_quad_qc.pdf'.format(aid))
             },
             {
                 'source': os.path.join(self.dirs['prequal'], 'OUTPUTS', 'EDDY', 'motion_plot.png'),
                 'dest': os.path.join('motion-plot', '{0}_motion_plot.png'.format(aid))
             },
 
@@ -196,15 +198,15 @@
                 'source': os.path.join(self.dirs['qsiprep'], 'qsiprep_output', 'qsiprep',  self.sub, 'figures', self.sub + '_ses-' + self.ses + '_run-' + str(self.run) + '_coreg.svg'),
                 'dest': os.path.join('coreg', '{0}_coreg.svg'.format(aid))
             }
         ]
 
         # get all the b-shell values from eddy-quad
         shells = list()
-        qcdir = os.path.join(self.dirs['prequal'], 'OUTPUTS', 'EDDY', f'{self._sub}_{self._ses}.qc')
+        qcdir = os.path.join(self.dirs['prequal'], 'OUTPUTS', 'EDDY', f'{no_prefix_sub}_{self.ses}.qc')
         for filename in os.listdir(qcdir):
             fullfile = os.path.join(qcdir, filename)
             match = re.match('avg_b(\d+).png', filename)
             if not match:
                 continue
             shells.append(int(match.group(1)))
             shell_dict = {
@@ -294,7 +296,8 @@
 
 
 class AssessmentError(Exception):
     pass
 
 
 
+
```

## Comparing `dwiqc-0.4.9.data/scripts/dwiQC.py` & `dwiqc-0.5.0.data/scripts/dwiQC.py`

 * *Files identical despite different names*

## Comparing `dwiqc-0.4.9.dist-info/LICENSE` & `dwiqc-0.5.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `dwiqc-0.4.9.dist-info/RECORD` & `dwiqc-0.5.0.dist-info/RECORD`

 * *Files 26% similar despite different names*

```diff
@@ -1,22 +1,22 @@
 dwiqc/__init__.py,sha256=MZJhUZKhHHoZ2w_GeoFCITk1m_0ASdRw_ZaeDixFEPU,225
-dwiqc/__version__.py,sha256=smBhAYAIcHmPC7g6Fv7CwwrQEPqq3T7cs1osfl48p0A,247
+dwiqc/__version__.py,sha256=Nsf3nhbOOM-pFa0xu0R8lPEZ3_rp89TauEZ9swKRn4A,247
 dwiqc/browser/__init__.py,sha256=4lK-1-VH4l6ppP_5Ju6MeYIctiQmFQfGA7gclqh8euE,1352
 dwiqc/cli/__init__.py,sha256=1Y4dYEbkHH-jZ3cwbFnlb6TthH_K0t4xT_-IphRBu6k,61
-dwiqc/cli/get.py,sha256=6ixaBdwEgY_GXh8L-_3QDY4MEsNqSJgXle_mxW99mlk,6651
+dwiqc/cli/get.py,sha256=w2jLbFA7unwfZ-DghKG-_3vPb1RhZPAYX-nXOEbC8wk,6941
 dwiqc/cli/process.py,sha256=CA2ythc83HISu41bpmWuf4cCr71ljlZHv_zkyy9cTB0,6025
-dwiqc/cli/tandem.py,sha256=aB2uJN6X6aJWXT_JtL6U_Lj7ljItplFU8sVFnfpmrfA,3801
+dwiqc/cli/tandem.py,sha256=18t_cn0VrXeAhohg8ukBnDydsR8ZiB8vM0_AZI1Ohkg,4180
 dwiqc/config/__init__.py,sha256=k_w5JzoJN_7R7eI_sIJxHA4FQQHs0_KGf-6jsbG4Xs8,160
 dwiqc/config/dwiqc.yaml,sha256=x8gKMFZyChdzvNX3GthRe0eWvyKDDL5itXo0kLWVfd0,274
 dwiqc/state/__init__.py,sha256=NaRifw26bI3F1J9BqeLa-KLSzEPq2m_UNhMbXdmPdh4,98
 dwiqc/tasks/__init__.py,sha256=LnlN7iYjpqiBic2ihFrM-_h7m8FD_N7Beh7UIwKyGZ8,1892
 dwiqc/tasks/prequal.py,sha256=WhQqExvDHEpUENseNLL2QHGfsJ9mjtufLU7QhiCGGl4,10118
 dwiqc/tasks/prequal_EQ.py,sha256=hvs6qjRNoJXuCzdvP-9BnaZc4xwvI9LHSgmueRobt1Q,4656
 dwiqc/tasks/qsiprep.py,sha256=CWalSV29PeSXhPANLR6MQiH6eAAFaaN6PxDITnTZ3Pw,6146
 dwiqc/tasks/qsiprep_EQ.py,sha256=oj9kJ4hRBlq8mT4Mp-ogakoOTVFbfJ2yUxcwoXPN4j8,3872
-dwiqc/xnat/__init__.py,sha256=HDjDNAQVSzr_e_ySPF_0vGHE5GjIWKXO7bv8ka4whm4,13083
-dwiqc-0.4.9.data/scripts/dwiQC.py,sha256=9FvCPyuitQXOZOjcW3DQcyXL6jJ3-X9J9zxtkTSsYGw,5783
-dwiqc-0.4.9.dist-info/LICENSE,sha256=ReOF9BmlQdkCj4b2gQYogJrk_QkbUAuz8W1ZVqI0pcs,1541
-dwiqc-0.4.9.dist-info/METADATA,sha256=WiIlKJWOS2v5R4VTwk88xBlvLkKd5niwctpja9qdiao,428
-dwiqc-0.4.9.dist-info/WHEEL,sha256=z9j0xAa_JmUKMpmz72K0ZGALSM_n-wQVmGbleXx2VHg,110
-dwiqc-0.4.9.dist-info/top_level.txt,sha256=omH7pmKt7fzFyiNkTPDLX4yyBccoge5Saqc9rgyu0Wk,6
-dwiqc-0.4.9.dist-info/RECORD,,
+dwiqc/xnat/__init__.py,sha256=mDXbGHAYEuTSe8Dg93ZKzgoYEP3EyfvqCWY8Ai7W1jE,13136
+dwiqc-0.5.0.data/scripts/dwiQC.py,sha256=9FvCPyuitQXOZOjcW3DQcyXL6jJ3-X9J9zxtkTSsYGw,5783
+dwiqc-0.5.0.dist-info/LICENSE,sha256=ReOF9BmlQdkCj4b2gQYogJrk_QkbUAuz8W1ZVqI0pcs,1541
+dwiqc-0.5.0.dist-info/METADATA,sha256=W3oYl7THbuIRYsKwrhmOtABkdsX495hcHYDAAp5jAe4,482
+dwiqc-0.5.0.dist-info/WHEEL,sha256=WzZ8cwjh8l0jtULNjYq1Hpr-WCqCRgPr--TX4P5I1Wo,110
+dwiqc-0.5.0.dist-info/top_level.txt,sha256=omH7pmKt7fzFyiNkTPDLX4yyBccoge5Saqc9rgyu0Wk,6
+dwiqc-0.5.0.dist-info/RECORD,,
```

